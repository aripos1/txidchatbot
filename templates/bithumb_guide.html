<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë¹—ì¸ ê°€ìƒ ìì‚° ì¶œê¸ˆ API ê°€ì´ë“œ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js" defer></script>
    <style>
        .code-block {
            background: #1a1a1a;
            color: #e5e5e5;
            border-radius: 8px;
            overflow-x: auto;
        }
        .highlight { background: #fef3cd; padding: 2px 4px; border-radius: 4px; }
        .success { color: #22c55e; }
        .error { color: #ef4444; }
        .warning { color: #f59e0b; }
    </style>
</head>
<body class="bg-gray-50 min-h-screen">
    <!-- í—¤ë” -->
    <header class="bg-white shadow-sm border-b">
        <div class="max-w-7xl mx-auto px-4 py-4">
            <div class="flex items-center justify-between">
                <h1 class="text-2xl font-bold text-gray-900">ğŸ¦ ë¹—ì¸ ê°€ìƒ ìì‚° ì¶œê¸ˆ API ê°€ì´ë“œ</h1>
                <div class="flex space-x-4">
                    <a href="/bithumb-test" class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700">
                        ğŸ§ª API í…ŒìŠ¤íŠ¸í•˜ê¸°
                    </a>
                    <a href="https://apidocs.bithumb.com" target="_blank" class="bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700">
                        ğŸ“– ê³µì‹ ë¬¸ì„œ
                    </a>
                </div>
            </div>
        </div>
    </header>

    <div class="max-w-7xl mx-auto px-4 py-8">
        <!-- ëª©ì°¨ -->
        <div class="bg-white rounded-lg shadow-sm p-6 mb-8">
            <h2 class="text-xl font-bold mb-4">ğŸ“‹ ëª©ì°¨</h2>
            <div class="grid md:grid-cols-2 gap-4">
                <div>
                    <a href="#api-info" class="block p-3 bg-blue-50 rounded-lg hover:bg-blue-100">
                        <div class="font-semibold">1. API ê¸°ë³¸ ì •ë³´</div>
                        <div class="text-sm text-gray-600">ì—”ë“œí¬ì¸íŠ¸, ì¸ì¦ ë°©ì‹</div>
                    </a>
                </div>
                <div>
                    <a href="#parameters" class="block p-3 bg-green-50 rounded-lg hover:bg-green-100">
                        <div class="font-semibold">2. í•„ìˆ˜ íŒŒë¼ë¯¸í„°</div>
                        <div class="text-sm text-gray-600">ì¶œê¸ˆì— í•„ìš”í•œ ëª¨ë“  íŒŒë¼ë¯¸í„°</div>
                    </a>
                </div>
                <div>
                    <a href="#jwt-token" class="block p-3 bg-purple-50 rounded-lg hover:bg-purple-100">
                        <div class="font-semibold">3. JWT í† í° ìƒì„±</div>
                        <div class="text-sm text-gray-600">í•µì‹¬ ì¸ì¦ ë¡œì§</div>
                    </a>
                </div>
                <div>
                    <a href="#korean-handling" class="block p-3 bg-yellow-50 rounded-lg hover:bg-yellow-100">
                        <div class="font-semibold">4. í•œê¸€ ì²˜ë¦¬ (í•µì‹¬!)</div>
                        <div class="text-sm text-gray-600">ì„±ê³µì˜ ì—´ì‡ </div>
                    </a>
                </div>
                <div>
                    <a href="#request" class="block p-3 bg-indigo-50 rounded-lg hover:bg-indigo-100">
                        <div class="font-semibold">5. HTTP ìš”ì²­</div>
                        <div class="text-sm text-gray-600">ì‹¤ì œ API í˜¸ì¶œ</div>
                    </a>
                </div>
                <div>
                    <a href="#troubleshooting" class="block p-3 bg-red-50 rounded-lg hover:bg-red-100">
                        <div class="font-semibold">6. ë¬¸ì œ í•´ê²°</div>
                        <div class="text-sm text-gray-600">ì£¼ìš” ì—ëŸ¬ ë° í•´ê²°ì±…</div>
                    </a>
                </div>
            </div>
        </div>

        <!-- 1. API ê¸°ë³¸ ì •ë³´ -->
        <section id="api-info" class="bg-white rounded-lg shadow-sm p-6 mb-8">
            <h2 class="text-2xl font-bold mb-6 flex items-center">
                <span class="bg-blue-100 text-blue-800 rounded-full w-8 h-8 flex items-center justify-center text-lg font-bold mr-3">1</span>
                API ê¸°ë³¸ ì •ë³´
            </h2>
            
            <div class="overflow-x-auto">
                <table class="w-full border-collapse border border-gray-300">
                    <thead>
                        <tr class="bg-gray-50">
                            <th class="border border-gray-300 px-4 py-2 text-left">í•­ëª©</th>
                            <th class="border border-gray-300 px-4 py-2 text-left">ê°’</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="border border-gray-300 px-4 py-2 font-semibold">ì—”ë“œí¬ì¸íŠ¸</td>
                            <td class="border border-gray-300 px-4 py-2"><code class="bg-gray-100 px-2 py-1 rounded">POST /v1/withdraws/coin</code></td>
                        </tr>
                        <tr>
                            <td class="border border-gray-300 px-4 py-2 font-semibold">ê¸°ë³¸ URL</td>
                            <td class="border border-gray-300 px-4 py-2"><code class="bg-gray-100 px-2 py-1 rounded">https://api.bithumb.com</code></td>
                        </tr>
                        <tr>
                            <td class="border border-gray-300 px-4 py-2 font-semibold">ì¸ì¦ ë°©ì‹</td>
                            <td class="border border-gray-300 px-4 py-2">JWT (HS256)</td>
                        </tr>
                        <tr>
                            <td class="border border-gray-300 px-4 py-2 font-semibold">Content-Type</td>
                            <td class="border border-gray-300 px-4 py-2"><code class="bg-gray-100 px-2 py-1 rounded">application/json</code></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

        <!-- 2. í•„ìˆ˜ íŒŒë¼ë¯¸í„° -->
        <section id="parameters" class="bg-white rounded-lg shadow-sm p-6 mb-8">
            <h2 class="text-2xl font-bold mb-6 flex items-center">
                <span class="bg-green-100 text-green-800 rounded-full w-8 h-8 flex items-center justify-center text-lg font-bold mr-3">2</span>
                í•„ìˆ˜ íŒŒë¼ë¯¸í„°
            </h2>
            
            <div class="bg-gray-50 rounded-lg p-4 mb-4">
                <h3 class="font-bold text-lg mb-2">ğŸ“ ì˜ˆì‹œ íŒŒë¼ë¯¸í„°</h3>
                <pre class="code-block p-4 text-sm"><code>{
  "currency": "USDT",           // ì¶œê¸ˆí•  í™”í ì½”ë“œ
  "net_type": "TRX",            // ì¶œê¸ˆ ë„¤íŠ¸ì›Œí¬
  "amount": 3,                  // ì¶œê¸ˆ ìˆ˜ëŸ‰
  "address": "TW123aADADA7yKCVA73nLMYQcQKRwSaf7cK",  // ì¶œê¸ˆ ì£¼ì†Œ
  "exchange_name": "upbit",     // ì¶œê¸ˆ ê±°ë˜ì†Œëª…
  "receiver_type": "personal",  // ìˆ˜ì·¨ì¸ íƒ€ì… (personal/corporation)
  "receiver_ko_name": "ì„í˜„ì„±", // ìˆ˜ì·¨ì¸ í•œê¸€ëª… â­
  "receiver_en_name": "IM HYEONSEONG"  // ìˆ˜ì·¨ì¸ ì˜ë¬¸ëª… â­
}</code></pre>
            </div>

            <div class="bg-yellow-50 border-l-4 border-yellow-400 p-4">
                <div class="flex">
                    <div class="ml-3">
                        <p class="text-sm text-yellow-700">
                            <strong>âš ï¸ ì¤‘ìš”:</strong> <code>receiver_ko_name</code>ì€ í•œê¸€ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤! <code>receiver_ko_name</code>ê³¼ <code>receiver_en_name</code>ì€ ì‹œ ë„ì–´ì“°ê¸° ê´€ê³„ ì—†ì´ ì¶œê¸ˆ ê°€ëŠ¥í•©ë‹ˆë‹¤.
                        </p>
                    </div>
                </div>
            </div>
        </section>

        <!-- 3. JWT í† í° ìƒì„± -->
        <section id="jwt-token" class="bg-white rounded-lg shadow-sm p-6 mb-8">
            <h2 class="text-2xl font-bold mb-6 flex items-center">
                <span class="bg-purple-100 text-purple-800 rounded-full w-8 h-8 flex items-center justify-center text-lg font-bold mr-3">3</span>
                JWT í† í° ìƒì„±
            </h2>
            
            <div class="space-y-6">
                <div>
                    <h3 class="font-bold text-lg mb-3">ğŸ” JWT í˜ì´ë¡œë“œ êµ¬ì„±</h3>
                    <pre class="code-block p-4 text-sm"><code>payload = {
    'access_key': api_key,
    'nonce': str(uuid.uuid4()),
    'timestamp': round(time.time() * 1000),
    'query_hash': query_hash,        # ì¶œê¸ˆ APIë§Œ í•„ìš”
    'query_hash_alg': 'SHA512'       # ì¶œê¸ˆ APIë§Œ í•„ìš”
}</code></pre>
                </div>

                <div>
                    <h3 class="font-bold text-lg mb-3">ğŸ”‘ Query Hash ìƒì„± (í•µì‹¬!)</h3>
                    <div class="grid md:grid-cols-2 gap-4">
                        <div>
                            <h4 class="font-semibold text-success mb-2">âœ… ì„±ê³µí•˜ëŠ” ë°©ì‹</h4>
                            <pre class="code-block p-4 text-sm"><code># Raw ë¬¸ìì—´ ë°©ì‹
requestBody = dict(**params)

query_parts = []
for key, value in requestBody.items():
    query_parts.append(f"{key}={value}")
raw_query = "&".join(query_parts)
query = raw_query.encode('utf-8')

hash = hashlib.sha512()
hash.update(query)
query_hash = hash.hexdigest()</code></pre>
                        </div>
                        <div>
                            <h4 class="font-semibold text-error mb-2">âŒ ì‹¤íŒ¨í•˜ëŠ” ë°©ì‹</h4>
                            <pre class="code-block p-4 text-sm"><code># URL ì¸ì½”ë”© ë°©ì‹ (ê³µì‹ ë¬¸ì„œ)
from urllib.parse import urlencode

query = urlencode(requestBody).encode()
# âŒ í•œê¸€ì´ %EC%9E%84... ë¡œ ë³€í™˜ë¨
# âŒ ë„ì–´ì“°ê¸°ê°€ + ë¡œ ë³€í™˜ë¨</code></pre>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 4. í•œê¸€ ì²˜ë¦¬ (í•µì‹¬!) -->
        <section id="korean-handling" class="bg-white rounded-lg shadow-sm p-6 mb-8">
            <h2 class="text-2xl font-bold mb-6 flex items-center">
                <span class="bg-yellow-100 text-yellow-800 rounded-full w-8 h-8 flex items-center justify-center text-lg font-bold mr-3">4</span>
                í•œê¸€ ì²˜ë¦¬ (ì„±ê³µì˜ í•µì‹¬!) ğŸ”¥
            </h2>
            
            <div class="bg-red-50 border-l-4 border-red-400 p-4 mb-6">
                <div class="flex">
                    <div class="ml-3">
                        <p class="text-sm text-red-700">
                            <strong>ğŸš¨ í•µì‹¬ ë°œê²¬:</strong> ë¹—ì¸ APIëŠ” ê³µì‹ ë¬¸ì„œì™€ ë‹¬ë¦¬ <strong>í•œê¸€ê³¼ ë„ì–´ì“°ê¸°ë¥¼ URL ì¸ì½”ë”©í•˜ë©´ ì•ˆ ë©ë‹ˆë‹¤!</strong>
                        </p>
                    </div>
                </div>
            </div>

            <div class="overflow-x-auto mb-6">
                <table class="w-full border-collapse border border-gray-300">
                    <thead>
                        <tr class="bg-gray-50">
                            <th class="border border-gray-300 px-4 py-2">êµ¬ë¶„</th>
                            <th class="border border-gray-300 px-4 py-2">ê³µì‹ ë¬¸ì„œ ë°©ì‹</th>
                            <th class="border border-gray-300 px-4 py-2">ì‹¤ì œ ì‘ë™ ë°©ì‹</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="border border-gray-300 px-4 py-2 font-semibold">ë°©ì‹</td>
                            <td class="border border-gray-300 px-4 py-2"><code>urlencode()</code> ì‚¬ìš©</td>
                            <td class="border border-gray-300 px-4 py-2 success font-bold">Raw ë¬¸ìì—´ ì§ì ‘ ìƒì„±</td>
                        </tr>
                        <tr>
                            <td class="border border-gray-300 px-4 py-2 font-semibold">í•œê¸€ ì²˜ë¦¬</td>
                            <td class="border border-gray-300 px-4 py-2 error"><code>%EC%9E%84%ED%98%84%EC%84%B1</code></td>
                            <td class="border border-gray-300 px-4 py-2 success"><code>ì„í˜„ì„±</code> (ì›ë³¸ ìœ ì§€)</td>
                        </tr>
                        <tr>
                            <td class="border border-gray-300 px-4 py-2 font-semibold">ë„ì–´ì“°ê¸°</td>
                            <td class="border border-gray-300 px-4 py-2 error"><code>IM+HYEONSEONG</code></td>
                            <td class="border border-gray-300 px-4 py-2 success"><code>IM HYEONSEONG</code> (ì›ë³¸ ìœ ì§€)</td>
                        </tr>
                        <tr>
                            <td class="border border-gray-300 px-4 py-2 font-semibold">ê²°ê³¼</td>
                            <td class="border border-gray-300 px-4 py-2 error">âŒ invalid_query_payload</td>
                            <td class="border border-gray-300 px-4 py-2 success">âœ… 201 Success</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div class="bg-green-50 border-l-4 border-green-400 p-4">
                <div class="flex">
                    <div class="ml-3">
                        <p class="text-sm text-green-700">
                            <strong>ğŸ’¡ í•µì‹¬ í¬ì¸íŠ¸:</strong> 
                            <code>receiver_ko_name=ì„í˜„ì„±&receiver_en_name=IM HYEONSEONG</code> 
                            í˜•íƒœë¡œ Raw ë¬¸ìì—´ì„ ë§Œë“¤ì–´ì•¼ ì„±ê³µí•©ë‹ˆë‹¤!
                        </p>
                    </div>
                </div>
            </div>
        </section>

        <!-- 5. HTTP ìš”ì²­ -->
        <section id="request" class="bg-white rounded-lg shadow-sm p-6 mb-8">
            <h2 class="text-2xl font-bold mb-6 flex items-center">
                <span class="bg-indigo-100 text-indigo-800 rounded-full w-8 h-8 flex items-center justify-center text-lg font-bold mr-3">5</span>
                HTTP ìš”ì²­ ì „ì†¡
            </h2>
            
            <div class="space-y-4">
                <div>
                    <h3 class="font-bold text-lg mb-3">ğŸ“¤ ì™„ì „í•œ ìš”ì²­ ì˜ˆì‹œ</h3>
                    <pre class="code-block p-4 text-sm"><code># í—¤ë” ì„¤ì •
headers = {
    'Authorization': f'Bearer {jwt_token}',
    'Content-Type': 'application/json'
}

# ìš”ì²­ ë°ì´í„° (JSON í˜•íƒœ)
json_data = json.dumps(requestBody)

# POST ìš”ì²­ ì „ì†¡
response = await client.post(
    'https://api.bithumb.com/v1/withdraws/coin', 
    headers=headers, 
    data=json_data
)</code></pre>
                </div>

                <div>
                    <h3 class="font-bold text-lg mb-3">âœ… ì„±ê³µ ì‘ë‹µ ì˜ˆì‹œ (201)</h3>
                    <pre class="code-block p-4 text-sm"><code>{
  "type": "withdraw",
  "uuid": "2511231977",
  "currency": "USDT",
  "net_type": "TRX", 
  "state": "processing",
  "created_at": "2025-08-07T03:24:31+09:00",
  "amount": "3.000000",
  "fee": "0.000000",
  "krw_amount": "4176"
}</code></pre>
                </div>
            </div>
        </section>

        <!-- 6. ë¬¸ì œ í•´ê²° -->
        <section id="troubleshooting" class="bg-white rounded-lg shadow-sm p-6 mb-8">
            <h2 class="text-2xl font-bold mb-6 flex items-center">
                <span class="bg-red-100 text-red-800 rounded-full w-8 h-8 flex items-center justify-center text-lg font-bold mr-3">6</span>
                ë¬¸ì œ í•´ê²° ê°€ì´ë“œ
            </h2>
            
            <div class="space-y-6">
                <div class="overflow-x-auto">
                    <table class="w-full border-collapse border border-gray-300">
                        <thead>
                            <tr class="bg-gray-50">
                                <th class="border border-gray-300 px-4 py-2 text-left">ì—ëŸ¬</th>
                                <th class="border border-gray-300 px-4 py-2 text-left">ì›ì¸</th>
                                <th class="border border-gray-300 px-4 py-2 text-left">í•´ê²°ì±…</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="border border-gray-300 px-4 py-2">
                                    <code class="bg-red-100 text-red-800 px-2 py-1 rounded">invalid_query_payload</code>
                                </td>
                                <td class="border border-gray-300 px-4 py-2">í•œê¸€/ë„ì–´ì“°ê¸° URL ì¸ì½”ë”©</td>
                                <td class="border border-gray-300 px-4 py-2 success">Raw ë¬¸ìì—´ ë°©ì‹ ì‚¬ìš©</td>
                            </tr>
                            <tr>
                                <td class="border border-gray-300 px-4 py-2">
                                    <code class="bg-red-100 text-red-800 px-2 py-1 rounded">request_fail</code><br>
                                    <small class="text-gray-600">ìˆ˜ì·¨ì¸ ì •ë³´ ëˆ„ë½</small>
                                </td>
                                <td class="border border-gray-300 px-4 py-2">ìˆ˜ì·¨ì¸ ì •ë³´ ë¯¸í¬í•¨</td>
                                <td class="border border-gray-300 px-4 py-2 success">
                                    <code>receiver_ko_name</code>,<br>
                                    <code>receiver_en_name</code> ì¶”ê°€
                                </td>
                            </tr>
                            <tr>
                                <td class="border border-gray-300 px-4 py-2">
                                    <code class="bg-red-100 text-red-800 px-2 py-1 rounded">jwt_verification</code>
                                </td>
                                <td class="border border-gray-300 px-4 py-2">ì˜ëª»ëœ JWT í† í°</td>
                                <td class="border border-gray-300 px-4 py-2 success">API Key/Secret Key í™•ì¸</td>
                            </tr>
                            <tr>
                                <td class="border border-gray-300 px-4 py-2">
                                    <code class="bg-red-100 text-red-800 px-2 py-1 rounded">NotAllowIP</code>
                                </td>
                                <td class="border border-gray-300 px-4 py-2">IP ë¯¸ë“±ë¡</td>
                                <td class="border border-gray-300 px-4 py-2 success">ë¹—ì¸ì—ì„œ IP í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ ë“±ë¡</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="bg-blue-50 border-l-4 border-blue-400 p-4">
                    <div class="flex">
                        <div class="ml-3">
                            <p class="text-sm text-blue-700">
                                <strong>ğŸ”§ ë””ë²„ê¹… íŒ:</strong> 
                                ë¡œê·¸ì—ì„œ <code>Raw Query String</code>ê³¼ <code>JSON Data</code>ë¥¼ ë¹„êµí•´ë³´ì„¸ìš”. 
                                í•œê¸€ê³¼ ë„ì–´ì“°ê¸°ê°€ ë™ì¼í•˜ê²Œ ì²˜ë¦¬ë˜ì–´ì•¼ ì„±ê³µí•©ë‹ˆë‹¤!
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- ìš”ì•½ -->
        <section class="bg-gradient-to-r from-green-50 to-blue-50 rounded-lg p-6 mb-8">
            <h2 class="text-2xl font-bold mb-4 text-center">ğŸ¯ í•µì‹¬ ìš”ì•½</h2>
            <div class="grid md:grid-cols-3 gap-6">
                <div class="text-center">
                    <div class="text-4xl mb-2">ğŸ”‘</div>
                    <h3 class="font-bold mb-2">Raw ë¬¸ìì—´ ë°©ì‹</h3>
                    <p class="text-sm text-gray-600">urlencode() ëŒ€ì‹  ì§ì ‘ ë¬¸ìì—´ ì¡°í•©</p>
                </div>
                <div class="text-center">
                    <div class="text-4xl mb-2">ğŸ‡°ğŸ‡·</div>
                    <h3 class="font-bold mb-2">í•œê¸€ ê·¸ëŒ€ë¡œ</h3>
                    <p class="text-sm text-gray-600">ì„í˜„ì„± â†’ ë³€í™˜í•˜ì§€ ì•Šê³  ê·¸ëŒ€ë¡œ</p>
                </div>
                <div class="text-center">
                    <div class="text-4xl mb-2">ğŸ¯</div>
                    <h3 class="font-bold mb-2">ë„ì–´ì“°ê¸° ìœ ì§€</h3>
                    <p class="text-sm text-gray-600">IM HYEONSEONG â†’ + ë³€í™˜ ì•ˆ í•¨</p>
                </div>
            </div>
        </section>

        <!-- í‘¸í„° -->
        <footer class="text-center py-8 text-gray-600">
            <p>ğŸ’¡ ì´ ê°€ì´ë“œê°€ ë„ì›€ì´ ë˜ì…¨ë‚˜ìš”? <a href="/bithumb-test" class="text-blue-600 hover:underline">ì§ì ‘ í…ŒìŠ¤íŠ¸í•´ë³´ì„¸ìš”!</a></p>
            <p class="text-sm mt-2">ë¹—ì¸ API ê°€ìƒ ìì‚° ì¶œê¸ˆ ì™„ì „ ì •ë³µ ê°€ì´ë“œ v1.0</p>
        </footer>
    </div>
</body>
</html>