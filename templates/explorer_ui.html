<!DOCTYPE html>
<html lang="ko">
<head>
    <title>ë¸”ë¡ì²´ì¸ íŠ¸ëœì­ì…˜ íƒìƒ‰ê¸°</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    {% include "nav.html" %}
    <style>
        :root {
            /* ìƒ‰ìƒ ì‹œìŠ¤í…œ ê°œì„  */
            --primary-color: #4a90e2; /* ë¶€ë“œëŸ¬ìš´ íŒŒë€ìƒ‰ */
            --primary-hover: #357ABD; /* ë” ì–´ë‘ìš´ íŒŒë€ìƒ‰ */
            --secondary-color: #f0f2f5; /* ë°ì€ íšŒìƒ‰ ë°°ê²½ */
            --accent-color: #5bc0de; /* ê°•ì¡° ìƒ‰ìƒ */
            --text-primary: #34495e; /* ì–´ë‘ìš´ í…ìŠ¤íŠ¸ */
            --text-secondary: #7f8c8d; /* ë³´ì¡° í…ìŠ¤íŠ¸ */
            --success-color: #2ecc71; /* ì´ˆë¡ìƒ‰ */
            --warning-color: #f39c12; /* ì£¼í™©ìƒ‰ */
            --error-color: #e74c3c; /* ë¹¨ê°„ìƒ‰ */
            --card-bg: #ffffff; /* ì¹´ë“œ ë°°ê²½ */
            --card-border: #e0e6ed; /* ì¹´ë“œ í…Œë‘ë¦¬ */
            --input-border: #dcdfe6; /* ì…ë ¥ í•„ë“œ í…Œë‘ë¦¬ */
            --input-focus: #a8d5ff; /* ì…ë ¥ í•„ë“œ í¬ì»¤ìŠ¤ */
            --shadow-sm: 0 2px 4px rgba(0, 0, 0, 0.05);
            --shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
            --shadow-lg: 0 10px 25px rgba(0, 0, 0, 0.12);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background-color: var(--secondary-color);
            color: var(--text-primary);
            line-height: 1.6;
            min-height: 100vh;
            padding: 1.5rem;
            padding-top: 80px; /* í—¤ë” ë†’ì´ë§Œí¼ ìƒë‹¨ íŒ¨ë”© ì¶”ê°€ */
        }

        .container {
            max-width: 1000px; /* ë„ˆë¹„ ì•½ê°„ ì¤„ì„ */
            margin: 2rem auto; /* ìƒí•˜ ì—¬ë°± ì¶”ê°€ */
            padding: 2.5rem; /* ë‚´ë¶€ íŒ¨ë”© ì¦ê°€ */
            background-color: var(--card-bg);
            border-radius: 1.25rem; /* ë” ë‘¥ê·¼ ëª¨ì„œë¦¬ */
            box-shadow: var(--shadow-lg); /* ë” ê¹Šì€ ê·¸ë¦¼ì */
        }

        .header {
            text-align: center;
            margin-bottom: 2rem;
        }

        .header h1 {
            font-size: 3rem; /* ë” í° ì œëª© */
            font-weight: 800; /* ë” êµµì€ ê¸€ì”¨ */
            color: var(--primary-color);
            margin-bottom: 0.75rem;
            letter-spacing: -0.025em; /* ì•½ê°„ì˜ ìê°„ ì¡°ì • */
        }

        .header p {
            color: var(--text-secondary);
            font-size: 1.15rem; /* ì•½ê°„ ë” í° ë¶€ì œëª© */
            max-width: 650px;
            margin: 0 auto;
        }

        .cmc-button {
            display: inline-flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.85rem 1.5rem;
            background: linear-gradient(135deg, #2ecc71 0%, #27ae60 100%);
            color: white;
            text-decoration: none;
            border-radius: 0.75rem;
            font-weight: 600;
            font-size: 0.95rem;
            transition: all 0.3s ease;
            box-shadow: 0 2px 8px rgba(46, 204, 113, 0.2);
            margin-bottom: 1rem;
            width: 100%;
        }

        .cmc-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(46, 204, 113, 0.3);
            background: linear-gradient(135deg, #27ae60 0%, #219a52 100%);
            text-decoration: none;
            color: white;
        }

        .cmc-button img {
            width: 24px;
            height: 24px;
            filter: brightness(0) invert(1);
        }

        /* ì²´ì¸ ì •ë³´ ì„¹ì…˜ ê°œì„  */
        .chain-info-section {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); /* ë‘ ì„¹ì…˜ì´ ìœ ì—°í•˜ê²Œ ë°°ì¹˜ë˜ë„ë¡ */
            gap: 2rem; /* ê°„ê²© ì¦ê°€ */
            margin-top: 3rem;
            margin-bottom: 3rem;
            align-items: stretch; /* ë†’ì´ ì¼ì¹˜ */
        }

        .chain-section {
            background-color: var(--card-bg);
            padding: 1.75rem; /* íŒ¨ë”© ì¦ê°€ */
            border-radius: 1rem; /* ë” ë‘¥ê·¼ ëª¨ì„œë¦¬ */
            box-shadow: var(--shadow-sm);
            display: flex; /* ë‚´ë¶€ ìš”ì†Œ ì •ë ¬ì„ ìœ„í•´ flex ì‚¬ìš© */
            flex-direction: column;
            height: 100%;
        }

        .chain-section h2 {
            font-size: 1.25rem; /* ë” í° ì œëª© */
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 1.5rem; /* í•˜ë‹¨ ì—¬ë°± ì¦ê°€ */
            padding-bottom: 0.75rem;
            border-bottom: 3px solid var(--primary-color); /* ë” êµµì€ í•˜ë‹¨ í…Œë‘ë¦¬ */
            text-align: center; /* ì¤‘ì•™ ì •ë ¬ */
        }

        .chain-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); /* ìµœì†Œ ë„ˆë¹„ ê°ì†Œ */
            gap: 0.8rem; /* ê°„ê²© ê°ì†Œ */
            flex-grow: 1;
            align-content: start;
        }

        .chain-card {
            background-color: var(--card-bg);
            padding: 0.8rem;
            border-radius: 0.75rem;
            border: 1px solid var(--card-border);
            transition: all 0.25s ease;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            cursor: pointer;
            min-height: 80px;
            box-shadow: var(--shadow-sm);
            text-decoration: none; /* ì¹´ë“œ ìì²´ì— ë°‘ì¤„ ì œê±° */
        }

        .chain-card:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-sm);
            border-color: var(--primary-color);
            background-color: #f0f2f5;
            text-decoration: none; /* í˜¸ë²„ ì‹œì—ë„ ë°‘ì¤„ ì œê±° */
        }

        /* .chain-card h3 { */
        /*     font-size: 0.95rem; */
        /*     font-weight: 600; */
        /*     color: var(--text-primary); */
        /*     white-space: normal; */
        /*     overflow: visible; */
        /*     text-overflow: clip; */
        /*     width: auto; */
        /*     margin: 0; */
        /* } */

        .chain-card .chain-symbol {
            font-size: 1.1rem;
            font-weight: 700;
            color: var(--primary-color);
            margin-bottom: 0.3rem;
            line-height: 1.2;
        }

        .chain-card .chain-name {
            font-size: 0.8rem;
            color: var(--text-secondary);
            font-weight: 500;
            text-align: center;
            white-space: normal;
            overflow: visible;
            text-overflow: clip;
            max-width: 100%;
            line-height: 1.2;
            word-break: break-word;
        }

        .chain-card .status {
            display: none;
        }

        .chain-card .explorer-link {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            width: 100%;
            height: 100%;
            color: inherit;
            text-decoration: none !important; /* ë§í¬ ìì²´ ë°‘ì¤„ ê°•ì œ ì œê±° */
        }

        .chain-card .explorer-link:hover {
            text-decoration: none !important; /* í˜¸ë²„ ì‹œì—ë„ ë°‘ì¤„ ê°•ì œ ì œê±° */
        }

        .chain-card .explorer-link:visited {
            color: var(--text-primary); /* ë°©ë¬¸ í›„ì—ë„ ê¸°ë³¸ í…ìŠ¤íŠ¸ ìƒ‰ìƒ ìœ ì§€ */
            text-decoration: none !important; /* ë°©ë¬¸ í›„ì—ë„ ë°‘ì¤„ ê°•ì œ ì œê±° */
        }

        .chain-card .explorer-link h3,
        .chain-card .explorer-link p { /* explorer-link ë‚´ë¶€ h3ì™€ pì˜ ë°‘ì¤„ ì œê±° */
            text-decoration: none !important;
        }

        .chain-card .explorer-link svg {
            display: none;
        }

        /* .chain-card ë‚´ì˜ ëª¨ë“  í…ìŠ¤íŠ¸ ë° ë§í¬ ê´€ë ¨ ìš”ì†Œì—ì„œ ë°‘ì¤„ ê°•ì œ ì œê±° */
        .chain-card a, 
        .chain-card a:hover, 
        .chain-card a:visited, 
        .chain-card h3, 
        .chain-card p {
            text-decoration: none !important;
        }

        /* ê²€ìƒ‰ ì„¹ì…˜ ê°œì„  (ìƒë‹¨ìœ¼ë¡œ ì´ë™) */
        .search-section {
            background-color: var(--card-bg);
            padding: 2rem; /* íŒ¨ë”© ì¦ê°€ */
            border-radius: 1rem; /* ë” ë‘¥ê·¼ ëª¨ì„œë¦¬ */
            box-shadow: var(--shadow-sm); /* ë¶€ë“œëŸ¬ìš´ ê·¸ë¦¼ì */
            margin-bottom: 2.5rem; /* ê²°ê³¼ ì˜ì—­ê³¼ ê°„ê²© */
        }

        .search-area {
            display: flex;
            gap: 1.25rem; /* ê°„ê²© ì¦ê°€ */
            max-width: 700px; /* ë„ˆë¹„ ì¡°ì • */
            margin: 0 auto;
        }

        .search-area input[type="text"] {
            flex: 1;
            padding: 1.1rem 1.4rem; /* íŒ¨ë”© ì¡°ì • */
            font-size: 1.05rem; /* í°íŠ¸ í¬ê¸° ì¡°ì • */
            border: 1px solid var(--input-border); /* í…Œë‘ë¦¬ ë‘ê»˜ ì¡°ì • */
            border-radius: 0.6rem; /* ë‘¥ê·¼ ëª¨ì„œë¦¬ */
            background-color: var(--secondary-color); /* ë°°ê²½ìƒ‰ ë³€ê²½ */
            color: var(--text-primary);
            transition: all 0.3s ease;
        }

        .search-area input[type="text"]:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 4px var(--input-focus); /* ê·¸ë¦¼ì íš¨ê³¼ ê°•í™” */
            background-color: var(--card-bg);
        }

        .search-area input[type="text"]::placeholder {
            color: var(--text-secondary);
            opacity: 0.7; /* íˆ¬ëª…ë„ ì¡°ì • */
        }

        .search-area button {
            padding: 1.1rem 2.2rem; /* íŒ¨ë”© ì¡°ì • */
            font-size: 1.05rem; /* í°íŠ¸ í¬ê¸° ì¡°ì • */
            font-weight: 600; /* ê¸€ì”¨ êµµê¸° */
            color: white;
            background-color: var(--primary-color);
            border: none;
            border-radius: 0.6rem; /* ë‘¥ê·¼ ëª¨ì„œë¦¬ */
            cursor: pointer;
            transition: all 0.3s ease;
            white-space: nowrap;
            box-shadow: var(--shadow-sm);
        }

        .search-area button:hover {
            background-color: var(--primary-hover);
            transform: translateY(-2px); /* í˜¸ë²„ íš¨ê³¼ ê°•í™” */
            box-shadow: var(--shadow); /* ê·¸ë¦¼ì íš¨ê³¼ ê°•í™” */
        }

        .search-area button:active {
            transform: translateY(0);
            box-shadow: var(--shadow-sm);
        }

        /* ê²°ê³¼ ì˜ì—­ ê°œì„  (ìƒë‹¨ìœ¼ë¡œ ì´ë™) */
        .result-area {
            margin-top: 0;
            background-color: var(--card-bg);
            border-radius: 1rem; /* ë” ë‘¥ê·¼ ëª¨ì„œë¦¬ */
            box-shadow: var(--shadow-sm);
            padding: 2rem; /* íŒ¨ë”© ì¦ê°€ */
        }

        .result-area:empty {
            display: none;
        }

        .transaction-card {
            background-color: var(--card-bg);
            border: 1px solid var(--card-border);
            border-radius: 1rem;
            padding: 1.25rem;
            margin-bottom: 0.75rem;
            transition: all 0.25s ease;
            box-shadow: var(--shadow-sm);
            position: relative;
            overflow: hidden;
        }

        .transaction-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 4px;
            height: 100%;
            background: var(--primary-color);
        }

        .transaction-card:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow);
        }

        .transaction-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 1px solid var(--card-border);
        }

        .transaction-chain {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .transaction-card .chain-badge {
            display: inline-flex;
            align-items: center;
            padding: 0.5rem 1rem;
            background: linear-gradient(135deg, var(--primary-color) 0%, var(--primary-hover) 100%);
            color: white;
            border-radius: 2rem;
            font-size: 0.95rem;
            font-weight: 600;
            box-shadow: 0 2px 8px rgba(74, 144, 226, 0.2);
        }

        .transaction-status {
            display: inline-flex;
            align-items: center;
            padding: 0.4rem 0.8rem;
            border-radius: 1rem;
            font-size: 0.85rem;
            font-weight: 500;
            margin-left: 0.75rem;
        }

        .status-confirmed {
            background-color: rgba(46, 204, 113, 0.1);
            color: var(--success-color);
        }

        .status-failed {
            background-color: rgba(231, 76, 60, 0.1);
            color: var(--error-color);
        }

        .status-pending {
            background-color: rgba(243, 156, 18, 0.1);
            color: var(--warning-color);
        }

        .transaction-card .explorer-link {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.75rem 1.5rem;
            background: linear-gradient(135deg, var(--primary-color) 0%, var(--primary-hover) 100%);
            color: white;
            text-decoration: none;
            border-radius: 0.75rem;
            font-weight: 600;
            font-size: 0.95rem;
            transition: all 0.3s ease;
            box-shadow: 0 2px 8px rgba(74, 144, 226, 0.2);
        }

        .transaction-card .explorer-link:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(74, 144, 226, 0.3);
            text-decoration: none;
            color: white;
        }

        .transaction-card .info-grid {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .transaction-card .info-item {
            background-color: var(--secondary-color);
            border-radius: 0.75rem;
            padding: 0.75rem;
            transition: all 0.2s ease;
            width: 100%;
        }

        .transaction-card .info-item:hover {
            background-color: #f8fafc;
            transform: translateY(-1px);
        }

        .transaction-card .info-label {
            display: block;
            font-size: 0.85rem;
            color: var(--text-secondary);
            font-weight: 500;
            margin-bottom: 0.35rem;
        }

        .transaction-card .info-value {
            font-size: 0.95rem;
            color: var(--text-primary);
            word-break: break-all;
            display: flex;
            align-items: center;
            gap: 0.35rem;
            line-height: 1.3;
            background-color: var(--card-bg);
            padding: 0.5rem 0.75rem;
            border-radius: 0.5rem;
            border: 1px solid var(--card-border);
        }

        .transaction-card .copy-button {
            padding: 0.4rem 0.8rem;
            font-size: 0.8rem;
            color: var(--text-secondary);
            background-color: var(--card-bg);
            border: 1px solid var(--card-border);
            border-radius: 0.5rem;
            cursor: pointer;
            transition: all 0.2s ease;
            flex-shrink: 0;
            margin-left: auto;
            display: inline-flex;
            align-items: center;
            gap: 0.4rem;
        }

        .transaction-card .copy-button:hover {
            background-color: var(--primary-color);
            color: white;
            border-color: var(--primary-color);
        }

        .transaction-card .copy-button::before {
            content: 'ğŸ“‹';
            font-size: 0.9rem;
        }

        .transaction-card .copy-button.copied {
            background-color: var(--success-color);
            color: white;
            border-color: var(--success-color);
        }

        .transaction-card .copy-button.copied::before {
            content: 'âœ“';
        }

        .transaction-note {
            margin-top: 0.75rem;
            padding: 0.6rem 0.75rem;
            background-color: rgba(74, 144, 226, 0.1);
            border-radius: 0.75rem;
            color: var(--primary-color);
            font-size: 0.9rem;
            line-height: 1.3;
            display: flex;
            align-items: flex-start;
            gap: 0.35rem;
        }

        .transaction-note::before {
            content: 'â„¹ï¸';
            font-size: 1.1rem;
            line-height: 1;
        }

        @media (max-width: 768px) {
            .transaction-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 1rem;
            }

            .transaction-chain {
                flex-wrap: wrap;
            }

            .transaction-card .explorer-link {
                width: 100%;
                justify-content: center;
            }
        }

        /* ë¡œë”© ìƒíƒœ ìŠ¤íƒ€ì¼ ê°œì„  */
        .loading {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 1.5rem;
            color: var(--text-secondary);
            font-size: 1rem;
            background-color: var(--secondary-color);
            border-radius: 0.75rem; /* ë” ë‘¥ê·¼ ëª¨ì„œë¦¬ */
            margin: 1.5rem 0;
            border: 1px dashed var(--card-border); /* ì ì„  í…Œë‘ë¦¬ */
        }

        .loading::after {
            content: '';
            width: 1.3rem;
            height: 1.3rem;
            margin-left: 0.8rem;
            border: 3px solid var(--primary-color);
            border-top-color: transparent;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }

        /* ì—ëŸ¬ ë©”ì‹œì§€ ìŠ¤íƒ€ì¼ ê°œì„  */
        .error-message {
            background-color: #fef2f2; /* ë” ë¶€ë“œëŸ¬ìš´ ë¹¨ê°„ìƒ‰ ë°°ê²½ */
            color: var(--error-color);
            padding: 1.2rem 1.5rem;
            border-radius: 0.75rem; /* ë” ë‘¥ê·¼ ëª¨ì„œë¦¬ */
            margin: 1.5rem 0;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 0.8rem;
            border: 1px solid #fecaca; /* ë” ë¶€ë“œëŸ¬ìš´ í…Œë‘ë¦¬ */
            font-weight: 500;
        }

        .error-message::before {
            content: 'âš ï¸';
            font-size: 1.2rem;
            line-height: 1;
        }

        /* ë°˜ì‘í˜• ë””ìì¸ ê°œì„  */
        @media (max-width: 1024px) {
            .container {
                padding: 1.25rem;
            }
            .chain-info-section {
                grid-template-columns: 1fr;
                gap: 1.5rem;
            }
            .search-section, .result-area, .converter-section {
                padding: 1.5rem;
            }
            .chain-grid {
                grid-template-columns: repeat(auto-fill, minmax(100px, 1fr)); /* íƒœë¸”ë¦¿ì—ì„œ ìµœì†Œ ë„ˆë¹„ ì¡°ì • */
            }
            .transaction-card .info-grid {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 2.2rem;
            }
            .header p {
                font-size: 1rem;
            }
            .search-area, .input-group {
                flex-direction: column;
                gap: 1rem;
            }
            .search-area button, .converter-area button {
                width: 100%;
            }
            .transaction-card .chain-badge {
                font-size: 0.85rem;
            }
            .chain-grid {
                grid-template-columns: repeat(auto-fill, minmax(90px, 1fr)); /* ëª¨ë°”ì¼ì—ì„œ ìµœì†Œ ë„ˆë¹„ ì¡°ì • */
            }
            .chain-card {
                min-height: 75px; /* ëª¨ë°”ì¼ì—ì„œ ìµœì†Œ ë†’ì´ ì¡°ì • */
            }
        }

        @media (max-width: 768px) {
            body {
                padding: 1rem;
                padding-top: 90px; /* ëª¨ë°”ì¼ í—¤ë” ë†’ì´ì— ë§ì¶¤ */
            }
            .header h1 {
                font-size: 2rem;
            }
            .header p {
                font-size: 1rem;
            }
        }

        @media (max-width: 480px) {
            body {
                padding: 0.75rem;
                padding-top: 100px; /* ëª¨ë°”ì¼ í—¤ë”ê°€ ì„¸ë¡œë¡œ ê¸¸ì–´ì§ */
            }
            .container {
                padding: 1rem;
                margin: 0.5rem auto;
            }
            .header h1 {
                font-size: 1.5rem;
            }
            .header p {
                font-size: 0.9rem;
            }
            .chain-section h2 {
                font-size: 1rem;
            }
            .chain-card {
                padding: 0.6rem 0.7rem;
                min-height: 70px;
                font-size: 0.85rem;
            }
            .search-section, .result-area, .converter-section {
                padding: 1rem;
            }
            .transaction-card .info-value, .output-area .result-value {
                font-size: 0.85rem;
            }
            .converter-section h2 {
                font-size: 1rem;
            }
            .chain-grid {
                grid-template-columns: repeat(auto-fill, minmax(90px, 1fr));
                gap: 0.5rem;
            }
            input[type="text"], select {
                font-size: 0.9rem;
            }
            button {
                font-size: 0.9rem;
                padding: 0.7rem 1.2rem;
            }
        }

        /* ëª¨ë‹¬ ìŠ¤íƒ€ì¼ */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.6); /* ë” ì§„í•œ ë°°ê²½ ì˜¤ë²„ë ˆì´ */
            z-index: 1000;
            align-items: center;
            justify-content: center;
            padding: 1.5rem; /* íŒ¨ë”© ì¡°ì • */
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background-color: var(--card-bg);
            border-radius: 1rem; /* ë” ë‘¥ê·¼ ëª¨ì„œë¦¬ */
            box-shadow: var(--shadow-lg);
            width: 100%;
            max-width: 700px; /* ëª¨ë‹¬ ë„ˆë¹„ ì¡°ì • */
            max-height: 85vh; /* ìµœëŒ€ ë†’ì´ ì¡°ì • */
            overflow-y: auto;
            position: relative;
            padding: 1.5rem; /* ëª¨ë‹¬ ë‚´ë¶€ íŒ¨ë”© ì¶”ê°€ */
        }

        .modal-header {
            padding: 0 0 1rem 0; /* íŒ¨ë”© ì¡°ì • */
            border-bottom: 1px solid var(--card-border);
            display: flex;
            align-items: center;
            justify-content: space-between;
            position: sticky;
            top: 0;
            background-color: var(--card-bg);
            z-index: 1;
            margin-bottom: 1.5rem; /* í—¤ë” í•˜ë‹¨ ì—¬ë°± ì¶”ê°€ */
        }

        .modal-header h2 {
            font-size: 1.5rem; /* ë” í° ì œëª© */
            font-weight: 700;
            color: var(--text-primary);
            margin: 0;
        }

        .modal-close {
            background: none;
            border: none;
            color: var(--text-secondary);
            cursor: pointer;
            padding: 0.5rem; /* íŒ¨ë”© ì¡°ì • */
            font-size: 1.8rem; /* ë” í° ë‹«ê¸° ë²„íŠ¼ */
            line-height: 1;
            transition: color 0.2s ease;
        }

        .modal-close:hover {
            color: var(--primary-color); /* í˜¸ë²„ ìƒ‰ìƒ ë³€ê²½ */
        }

        .modal-body {
            padding: 0; /* ë°”ë”” íŒ¨ë”© ì œê±°, ì»¨í…ì¸ ì—ì„œ ì§ì ‘ ê´€ë¦¬ */
        }

        /* Base64 ë³€í™˜ê¸° ê°œì„  */
        .converter-section {
            background-color: var(--card-bg);
            padding: 2rem; /* íŒ¨ë”© ì¦ê°€ */
            border-radius: 1rem; /* ë” ë‘¥ê·¼ ëª¨ì„œë¦¬ */
            box-shadow: var(--shadow-sm);
            margin-top: 3rem; /* ìƒë‹¨ ì—¬ë°± ì¦ê°€ */
        }

        .converter-section h2 {
            font-size: 1.25rem;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 2rem; /* í•˜ë‹¨ ì—¬ë°± ì¦ê°€ */
            text-align: center;
        }

        .converter-area {
            max-width: 700px; /* ë„ˆë¹„ ì¡°ì • */
            margin: 0 auto;
        }

        .input-group {
            display: flex;
            gap: 1.25rem; /* ê°„ê²© ì¦ê°€ */
            margin-bottom: 2rem; /* í•˜ë‹¨ ì—¬ë°± ì¦ê°€ */
        }

        .converter-area input[type="text"] {
            flex: 1;
            padding: 1.1rem 1.4rem; /* íŒ¨ë”© ì¡°ì • */
            font-size: 1.05rem; /* í°íŠ¸ í¬ê¸° ì¡°ì • */
            border: 1px solid var(--input-border); /* í…Œë‘ë¦¬ ë‘ê»˜ ì¡°ì • */
            border-radius: 0.6rem; /* ë‘¥ê·¼ ëª¨ì„œë¦¬ */
            background-color: var(--secondary-color); /* ë°°ê²½ìƒ‰ ë³€ê²½ */
            color: var(--text-primary);
            transition: all 0.3s ease;
        }

        .converter-area input[type="text"]:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 4px var(--input-focus); /* ê·¸ë¦¼ì íš¨ê³¼ ê°•í™” */
            background-color: var(--card-bg);
        }

        .converter-area button {
            padding: 1.1rem 2.2rem; /* íŒ¨ë”© ì¡°ì • */
            font-size: 1.05rem; /* í°íŠ¸ í¬ê¸° ì¡°ì • */
            font-weight: 600; /* ê¸€ì”¨ êµµê¸° */
            color: white;
            background-color: var(--primary-color);
            border: none;
            border-radius: 0.6rem; /* ë‘¥ê·¼ ëª¨ì„œë¦¬ */
            cursor: pointer;
            transition: all 0.3s ease;
            white-space: nowrap;
            box-shadow: var(--shadow-sm);
        }

        .converter-area button:hover {
            background-color: var(--primary-hover);
            transform: translateY(-2px); /* í˜¸ë²„ íš¨ê³¼ ê°•í™” */
            box-shadow: var(--shadow);
        }

        .converter-area button:active {
            transform: translateY(0);
            box-shadow: var(--shadow-sm);
        }

        .output-area {
            background-color: var(--secondary-color);
            padding: 2rem; /* íŒ¨ë”© ì¦ê°€ */
            border-radius: 0.75rem; /* ë” ë‘¥ê·¼ ëª¨ì„œë¦¬ */
            border: 1px solid var(--card-border);
        }

        .output-area .result-item {
            display: flex;
            flex-direction: column;
            gap: 0.6rem; /* ê°„ê²© ì¡°ì • */
            padding: 1.25rem; /* íŒ¨ë”© ì¦ê°€ */
            background-color: var(--card-bg);
            border-radius: 0.75rem; /* ë‘¥ê·¼ ëª¨ì„œë¦¬ */
            margin-bottom: 1.25rem; /* í•˜ë‹¨ ì—¬ë°± ì¦ê°€ */
            border: 1px solid var(--card-border);
            box-shadow: var(--shadow-sm); /* ë¶€ë“œëŸ¬ìš´ ê·¸ë¦¼ì */
        }

        .output-area .result-item:last-child {
            margin-bottom: 0;
        }

        .output-area .result-label {
            font-size: 0.9rem; /* í°íŠ¸ í¬ê¸° ì¡°ì • */
            color: var(--text-secondary);
            font-weight: 500;
            margin-bottom: 0.2rem; /* ë ˆì´ë¸” í•˜ë‹¨ ì—¬ë°± */
        }

        .output-area .result-value {
            font-size: 1rem; /* í°íŠ¸ í¬ê¸° ì¡°ì • */
            color: var(--text-primary);
            word-break: break-all;
            display: flex;
            align-items: center;
            gap: 0.6rem;
            padding: 0.75rem 1rem; /* íŒ¨ë”© ì¡°ì • */
            background-color: var(--card-bg);
            border-radius: 0.5rem; /* ë‘¥ê·¼ ëª¨ì„œë¦¬ */
            border: 1px solid var(--input-border); /* í…Œë‘ë¦¬ ì¡°ì • */
            box-shadow: inset 0 1px 3px rgba(0,0,0,0.03); /* ë‚´ë¶€ ê·¸ë¦¼ì */
        }

        .output-area .copy-button {
            padding: 0.4rem 0.8rem; /* íŒ¨ë”© ì¡°ì • */
            font-size: 0.8rem; /* í°íŠ¸ í¬ê¸° ì¡°ì • */
            color: var(--text-secondary);
            background-color: var(--secondary-color);
            border: 1px solid var(--card-border);
            border-radius: 0.35rem; /* ë‘¥ê·¼ ëª¨ì„œë¦¬ */
            cursor: pointer;
            transition: all 0.2s ease;
            flex-shrink: 0;
            margin-left: auto; /* ì˜¤ë¥¸ìª½ ì •ë ¬ */
        }

        .output-area .copy-button:hover {
            background-color: var(--primary-color);
            color: white;
            border-color: var(--primary-color);
        }
    </style>
</head>
<body>
    <div class="container" x-data="appData()" x-init="null">
        <div class="header">
            <h1>ë¸”ë¡ì²´ì¸ íŠ¸ëœì­ì…˜ íƒìƒ‰ê¸°</h1>
            <p>ì—¬ëŸ¬ ë¸”ë¡ì²´ì¸ì˜ íŠ¸ëœì­ì…˜ì„ í•œ ë²ˆì— ê²€ìƒ‰í•˜ê³  í™•ì¸í•˜ì„¸ìš”</p>
        </div>

        <!-- ê²€ìƒ‰ ì„¹ì…˜ (ìƒë‹¨ìœ¼ë¡œ ì´ë™) -->
        <div class="search-section">
            <div class="search-area">
                <input 
                    id="txid" 
                    type="text" 
                    placeholder="íŠ¸ëœì­ì…˜ í•´ì‹œë¥¼ ì…ë ¥í•˜ì„¸ìš”" 
                    @keyup.enter="lookupTx()"
                />
                <button @click="lookupTx()">íŠ¸ëœì­ì…˜ ì¡°íšŒ</button>
            </div>
        </div>

        <!-- ê²°ê³¼ ì˜ì—­ (ìƒë‹¨ìœ¼ë¡œ ì´ë™) -->
        <div class="result-area" id="result"></div>

        <!-- ì²´ì¸ ì •ë³´ ì„¹ì…˜ -->
        <div class="chain-info-section">
            <!-- ì§€ì›í•˜ëŠ” ì²´ì¸ -->
            <div class="chain-section">
                <h2>ì§€ì›í•˜ëŠ” ì²´ì¸</h2>
                <div x-show="isLoadingChains" class="loading">ì²´ì¸ ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ì…ë‹ˆë‹¤...</div>
                <div x-show="!isLoadingChains && supportedChains.length === 0" class="error-message">ì§€ì›í•˜ëŠ” ì²´ì¸ ì •ë³´ê°€ ì—†ìŠµë‹ˆë‹¤.</div>
                <div class="chain-grid" x-show="!isLoadingChains">
                    <template x-for="chain in supportedChains" :key="chain.name">
                        <a :href="chain.explorer" target="_blank" rel="noopener noreferrer" class="chain-card explorer-link">
                            <h3 class="chain-symbol" x-text="chain.symbol"></h3>
                            <p class="chain-name" x-text="chain.name"></p>
                        </a>
                    </template>
                </div>
            </div>

            <!-- ì¶”ê°€ ì²´ì¸ ìµìŠ¤í”Œë¡œëŸ¬ -->
            <div class="chain-section">
                <h2>ì£¼ì†Œ ë°”ë¡œê°€ê¸°</h2>
                <a href="https://coinmarketcap.com/ko/" target="_blank" rel="noopener noreferrer" class="cmc-button">
                    <img src="https://s2.coinmarketcap.com/static/cloud/img/coinmarketcap_1.svg" alt="CMC Logo">
                    CoinMarketCap
                </a>
                <div class="chain-grid">
                    <template x-for="chain in externalChains" :key="chain.name">
                        <a :href="chain.explorer" target="_blank" rel="noopener noreferrer" class="chain-card explorer-link">
                            <h3 class="chain-symbol" x-text="chain.name"></h3>
                        </a>
                    </template>
                </div>
            </div>
        </div>

        <!-- Base64 ë³€í™˜ê¸° ì„¹ì…˜ -->
        <div class="converter-section">
            <h2>Base64 to HEX ë³€í™˜ê¸° (TON)</h2>
            <div class="converter-area">
                <div class="input-group">
                    <input 
                        id="base64-input" 
                        type="text" 
                        placeholder="Base64 ë¬¸ìì—´ì„ ì…ë ¥í•˜ì„¸ìš”" 
                        @keyup.enter="base64ToHex()"
                    />
                    <button @click="base64ToHex()">ë³€í™˜í•˜ê¸°</button>
                </div>
                <div class="output-area" id="converter-output">
                    ê²°ê³¼ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤.
                </div>
            </div>
        </div>
    </div>

    <script>
        function appData() {
            return {
                supportedChains: [],
                externalChains: [{name: 'Henesys', explorer: 'https://subnets.avax.network/henesys'}],
                isLoading: false,
                isLoadingChains: true,
                error: null,
                init() {
                    this.fetchSupportedChains();
                    // externalChains ë°ì´í„° ì—…ë°ì´íŠ¸
                    this.externalChains = [
                        {name: 'Henesys', explorer: 'https://subnets.avax.network/henesys'},
                        {name: 'Paycoin', explorer: 'https://scan.payprotocol.io/'},
                        {name: 'Vaulta', explorer: 'https://unicove.com/ko/vaulta'},
                        {name: 'POKTscan', explorer: 'https://poktscan.com/'}
                    ];
                },
                async fetchSupportedChains() {
                    this.isLoadingChains = true;
                    try {
                        const res = await fetch('/api/chains');
                        const data = await res.json();
                        this.supportedChains = data.supportedChains;
                    } catch (err) {
                        console.error("ì§€ì› ì²´ì¸ ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤:", err);
                        this.error = "ì§€ì› ì²´ì¸ ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.";
                    } finally {
                        this.isLoadingChains = false;
                    }
                }
            };
        }

        async function lookupTx() {
            const txid = document.getElementById("txid").value.trim().replace(/ /g, '');
            const resultDiv = document.getElementById("result");
            
            if (!txid) {
                resultDiv.innerHTML = `
                    <div class="error-message">
                        íŠ¸ëœì­ì…˜ í•´ì‹œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.
                    </div>
                `;
                return;
            }

            resultDiv.innerHTML = '<div class="loading">íŠ¸ëœì­ì…˜ì„ ì¡°íšŒí•˜ëŠ” ì¤‘ì…ë‹ˆë‹¤...</div>';

            try {
                const res = await fetch(`/api/tx/${txid}`);
                const data = await res.json();

                if (!data.found) {
                    resultDiv.innerHTML = `
                        <div class="error-message">
                            ì²´ì¸ì—ì„œ í•´ë‹¹ íŠ¸ëœì­ì…˜ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
                        </div>
                    `;
                    return;
                }

                resultDiv.innerHTML = data.results.map(tx => `
                    <div class="transaction-card">
                        <div class="transaction-header">
                            <div class="transaction-chain">
                                <span class="chain-badge">${tx.symbol || tx.chain}</span>
                                ${tx.status ? `
                                    <span class="transaction-status status-${tx.status.toLowerCase()}">
                                        ${tx.status === 'confirmed' ? 'âœ“ í™•ì¸ë¨' : 
                                          tx.status === 'failed' ? 'âœ• ì‹¤íŒ¨' : 
                                          tx.status === 'pending' ? 'â³ ëŒ€ê¸°ì¤‘' : tx.status}
                                    </span>
                                ` : ''}
                            </div>
                            <a href="${tx.explorer}${tx.txid}" target="_blank" class="explorer-link">
                                <span>íƒìƒ‰ê¸°ì—ì„œ ë³´ê¸°</span>
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path>
                                    <polyline points="15 3 21 3 21 9"></polyline>
                                    <line x1="10" y1="14" x2="21" y2="3"></line>
                                </svg>
                            </a>
                        </div>

                        <div class="info-grid">
                            <div class="info-item">
                                <span class="info-label">íŠ¸ëœì­ì…˜ ID</span>
                                <div class="info-value">
                                    ${tx.txid}
                                    <button class="copy-button" onclick="copyToClipboard('${tx.txid}', event)">ë³µì‚¬</button>
                                </div>
                            </div>

                            <div class="info-item">
                                <span class="info-label">ë³´ë‚¸ ì£¼ì†Œ</span>
                                <div class="info-value">
                                    ${tx.from || 'N/A'}
                                    ${tx.from ? `<button class="copy-button" onclick="copyToClipboard('${tx.from}', event)">ë³µì‚¬</button>` : ''}
                                </div>
                            </div>

                            <div class="info-item">
                                <span class="info-label">ë°›ëŠ” ì£¼ì†Œ</span>
                                <div class="info-value">
                                    ${tx.to || 'N/A'}
                                    ${tx.to ? `<button class="copy-button" onclick="copyToClipboard('${tx.to}', event)">ë³µì‚¬</button>` : ''}
                                </div>
                            </div>

                            <div class="info-item">
                                <span class="info-label">ê¸ˆì•¡</span>
                                <div class="info-value">${tx.value || 'N/A'}</div>
                            </div>

                            <div class="info-item">
                                <span class="info-label">ë¸”ë¡ ë²ˆí˜¸</span>
                                <div class="info-value">${tx.blockNumber || 'N/A'}</div>
                            </div>

                            ${tx.destination_tag != null ? `
                                <div class="info-item">
                                    <span class="info-label">Destination Tag</span>
                                    <div class="info-value">
                                        ${tx.destination_tag}
                                        <button class="copy-button" onclick="copyToClipboard('${tx.destination_tag}', event)">ë³µì‚¬</button>
                                    </div>
                                </div>
                            ` : ''}
                        </div>

                        ${tx.note ? `
                            <div class="transaction-note">
                                ${tx.note}
                            </div>
                        ` : ''}
                    </div>
                `).join('');
            } catch (error) {
                console.error("ì¡°íšŒ ì¤‘ ì˜¤ë¥˜ ë°œìƒ:", error);
                resultDiv.innerHTML = `
                    <div class="error-message">
                        ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.
                    </div>
                `;
            }
        }

        async function copyToClipboard(text, event) {
            let success = false;
            try {
                await navigator.clipboard.writeText(text);
                success = true;
            } catch (err) {
                console.warn('Async Clipboard API not available or failed, falling back to document.execCommand:', err);
                const textArea = document.createElement("textarea");
                textArea.value = text;
                textArea.style.position = "fixed";
                textArea.style.left = "-999999px";
                textArea.style.top = "-999999px";
                document.body.appendChild(textArea);
                textArea.focus();
                textArea.select();
                try {
                    document.execCommand('copy');
                    success = true;
                } catch (execErr) {
                    console.error('í´ë¦½ë³´ë“œ ë³µì‚¬ ì‹¤íŒ¨ (execCommand):', execErr);
                    alert("í´ë¦½ë³´ë“œ ë³µì‚¬ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.");
                } finally {
                    document.body.removeChild(textArea);
                }
            }

            if (success) {
                const button = event.target;
                button.classList.add('copied');
                setTimeout(() => {
                    button.classList.remove('copied');
                }, 2000);
            }
        }

        function base64ToHex() {
            const base64Input = document.getElementById("base64-input").value.trim();
            const outputArea = document.getElementById("converter-output");
            
            if (!base64Input) {
                outputArea.innerHTML = `
                    <div class="error-message">
                        Base64 ë¬¸ìì—´ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.
                    </div>
                `;
                return;
            }

            try {
                const binaryString = atob(base64Input);
                let hexString = "";

                for (let i = 0; i < binaryString.length; i++) {
                    const byte = binaryString.charCodeAt(i);
                    const hexByte = byte.toString(16).padStart(2, '0');
                    hexString += hexByte;
                }
                
                const hexResult = hexString.toUpperCase();

                outputArea.innerHTML = `
                    <div class="result-item">
                        <span class="result-label">ì…ë ¥ Base64</span>
                        <div class="result-value">
                            ${base64Input}
                            <button class="copy-button" onclick="copyToClipboard('${base64Input}', event)">ë³µì‚¬</button>
                        </div>
                    </div>
                    <div class="result-item">
                        <span class="result-label">HEX ê²°ê³¼</span>
                        <div class="result-value">
                            ${hexResult}
                            <button class="copy-button" onclick="copyToClipboard('${hexResult}', event)">ë³µì‚¬</button>
                        </div>
                    </div>
                `;
            } catch (e) {
                outputArea.innerHTML = `
                    <div class="error-message">
                        ìœ íš¨í•˜ì§€ ì•Šì€ Base64 ë¬¸ìì—´ì…ë‹ˆë‹¤.
                    </div>
                `;
                console.error("Base64 ë””ì½”ë”© ì˜¤ë¥˜:", e);
            }
        }
    </script>
</body>
</html>
